{"description": "Zeek Notices through Slack webhook", "tags": "zeek plugin, notices, slack webhook", "version": "1.0.1", "depends": null, "test_cmd": null, "build_cmd": null, "url": "https://github.com/pgaulon/zeek-notice-slack", "summary": null, "script_dir": null, "plugin_dir": null, "readme": "# zeek-notice-slack\nScript extending Zeek Notice framework, adding Slack notifications.\n\n## Usage\n### Manual installation\n```shell\n[root@manager site]# pwd\n/opt/zeek/share/zeek/site\n[root@manager site]# git clone https://github.com/pgaulon/zeek-notice-slack.git\nCloning into 'zeek-notice-slack'...\nremote: Enumerating objects: 9, done.\nremote: Counting objects: 100% (9/9), done.\nremote: Compressing objects: 100% (8/8), done.\nremote: Total 51 (delta 1), reused 4 (delta 0), pack-reused 42\nUnpacking objects: 100% (51/51), done.\n[root@manager site]# ls\nlocal.zeek  zeek-notice-slack\n[root@manager site]# vi local.zeek\n[root@manager site]# tail -n9 local.zeek ; echo\n@load ./zeek-notice-slack\nredef Notice::slack_webhook_url = \"https://hooks.slack.com/services/T00000000/B00000000/XXXXXXXXXXXXXXXXXXXXXXXX\";\nredef Notice::slack_emoji = \":eyes:\";\nredef Notice::slack_channel = \"#zeek-channel\";\nredef Notice::slack_username = \"Zeek\";\nhook Notice::policy(n: Notice::Info)\n{\n    add n$actions[Notice::ACTION_SLACK];\n}\n\n\n[root@manager site]# /opt/zeek/bin/zeekctl deploy\n# truncated output\n[root@manager site]# /opt/zeek/bin/zeekctl start\nstarting logger ...\nstarting manager ...\nstarting proxy ...\nstarting worker ...\n[root@manager zeek-notice-slack]# /opt/zeek/bin/zeekctl scripts | grep slack\n    /opt/zeek/spool/installed-scripts-do-not-touch/site/zeek-notice-slack/__load__.zeek\n      /opt/zeek/spool/installed-scripts-do-not-touch/site/zeek-notice-slack/notice_slack.zeek\n    /opt/zeek/spool/installed-scripts-do-not-touch/site/zeek-notice-slack/__load__.zeek\n      /opt/zeek/spool/installed-scripts-do-not-touch/site/zeek-notice-slack/notice_slack.zeek\n    /opt/zeek/spool/installed-scripts-do-not-touch/site/zeek-notice-slack/__load__.zeek\n      /opt/zeek/spool/installed-scripts-do-not-touch/site/zeek-notice-slack/notice_slack.zeek\n    /opt/zeek/spool/installed-scripts-do-not-touch/site/zeek-notice-slack/__load__.zeek\n      /opt/zeek/spool/installed-scripts-do-not-touch/site/zeek-notice-slack/notice_slack.zeek\n```\n\n## TODO\n- Allow \\n in Slack text by changing the pattern in to_json()\n- Add timeout block with Reporter::warning after when block\n- ...\n"}