{"description": null, "tags": null, "version": "v1.5.3", "depends": null, "test_cmd": "unset -v CXX CXXFLAGS LD LDFLAGS && cd tests && btest -d -j \"${SPICY_ZKG_PROCESSES:-4}\"", "build_cmd": "unset -v CXX CXXFLAGS LD LDFLAGS && mkdir -p build && cd build && cmake .. && make -j \"${SPICY_ZKG_PROCESSES:-4}\"", "url": "https://github.com/zeek/spicy-plugin", "summary": null, "script_dir": "scripts/Zeek/Spicy", "plugin_dir": "build", "readme": "\n***Note: This plugin is no longer needed with Zeek >= 6.0, which comes\nwith Spicy support built in. All new development now happens in Zeek\ndirectly. This repository will still be receiving important bugfixes\nfor the time being, but will eventually be shut down.***\n\n# Spicy Plugin for Zeek\n\nThis repository provides a [Zeek](https://github.com/zeek/zeek)\npackage that adds [Spicy](https://github.com/zeek/spicy) support to\nZeek through a plugin. Once installed, your Zeek will be able to\nload Spicy-based protocol and file analyzers, such as those coming\nwith the [Spicy Analyzers](https://github.com/zeek/spicy-analyzers)\npackage.\n\nBoth this plugin and Spicy itself now ship with Zeek by default, so\nchances are that you already have Spicy support in place if you are\nusing Zeek >= 5.0.\n\n## Prerequisites\n\nIf not using Zeek's built-in version of the plugin, you will first\nneed to install Spicy. Please follow [its\ninstructions](https://docs.zeek.org/projects/spicy/en/latest/installation.html).\nEnsure that the Spicy toolchain is in your `PATH`. For example, with\nSpicy installed to `/opt/spicy` and using `bash`:\n\n    export PATH=/opt/spicy/bin:$PATH\n\nNow `which` should be able to find `spicy-config`:\n\n    # which spicy-config\n    /opt/spicy/bin/spicy-config\n\nPlease also [install and\nconfigure](https://docs.zeek.org/projects/package-manager/en/stable/quickstart.html)\nthe Zeek package manager.\n\n## Installation\n\n### Use Zeek's built-in version\n\nZeek includes both Spicy and this plugin by default since version 5.0.\nTo confirm that you have it available, run `zeek -N Zeek::Spicy`, it\nshould show output like this:\n\n    # zeek -N Zeek::Spicy\n    Zeek::Spicy - Support for Spicy parsers (*.hlto) (built-in)\n\nAssuming that's the case, you should also find the plugin's\ncompilation tool `spicyz` at the same place as the Zeek executable:\n\n    # which spicyz\n    /usr/local/zeek/bin/spicyz\n\nIf you do not want to use the Spicy plugin that's built into Zeek for\nsome reason (e.g., because you'd like to try a new version of the\nplugin or Spicy), you can build Zeek with `--disable-spicy` and then\nfollow the instructions below for installation through the package\nmanager or from source.\n\n### Install through package manager\n\nIf not using Zeek's built-in Spicy support, the recommended way to\ninstall the Spicy plugin is through the Zeek package manager:\n\n    # zkg install zeek/spicy-plugin\n\nThis will pull down the package, compile and test the plugin, and then\ninstall and activate it. To check that the plugin has become available,\nrun `zeek -N Zeek::Spicy` afterwards, it should show output like\nthis:\n\n    # zeek -N Zeek::Spicy\n    Zeek::Spicy - Support for Spicy parsers (*.hlto) (dynamic, version x.y.z)\n\nThe compilation tool `spicyz` comes with the package as well, and\nshould show up in your `PATH` after installation. If that's not the\ncase, please see the [Spicy\nmanual](https://docs.zeek.org/projects/spicy/en/latest/zeek.html#zeek_spicyz)\non how to locate it (you might be using an older version of *zkg*\nstill).\n\n### Install manually\n\nYou can also install the plugin through normal CMake means. After\ncloning this repository, make sure that the Spicy tools are in your\n`PATH`, per above. Then build the plugin like this:\n\n    # (mkdir build && cd build && cmake -DCMAKE_INSTALL_PREFIX=/opt/spicy .. && make -j)\n\nThe tests should now pass:\n\n    # make -C tests\n\nYou can then install the plugin (which you may need to do as root so\nthat you can write to the Zeek plugin directory):\n\n    # make -C build install\n\nZeek should now show it:\n\n    # zeek -N Zeek::Spicy\n    Zeek::Spicy - Support for Spicy parsers (*.hlto) (dynamic, version x.y.z)\n\nYou will also find `spicyz` in `${prefix}/bin` now.\n\nBy default, the plugin will search for precompiled `*.hlto` files in\n`<prefix>/lib/zeek-spicy/modules`. You change that path by setting\n`ZEEK_SPICY_MODULE_DIR` through CMake.\n\n## Documentation\n\nThe plugin's documentation is [part of the Spicy\nmanual](https://docs.zeek.org/projects/spicy/en/latest/zeek.html).\n\n## License\n\nJust like Spicy, the plugin is open source and released under a BSD license.\n"}