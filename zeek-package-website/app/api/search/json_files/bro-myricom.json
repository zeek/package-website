{"description": "Packet source plugin that provides native Myricom SNF v3+v4 support.", "tags": "packet source, plugin, myricom", "version": "1.0.4", "depends": null, "test_cmd": "( cd tests && btest -d )", "build_cmd": "( ./configure --bro-dist=%(bro_dist)s && make )", "url": "https://github.com/sethhall/bro-myricom", "summary": null, "script_dir": "scripts.not_used", "plugin_dir": "build/Bro_Myricom.tgz", "readme": "\nBro::Myricom\n============\n\nThis plugin provides native `Myricom SNF v3+v4` support for Bro.\n\nBro-pkg Installation\n--------------------\n\nMake sure you have the SNF library installed and then run::\n\n\tbro-pkg install sethhall/bro-myricom\n\nManual Installation\n-------------------\n\nFollow Myricom's instructions to get its kernel module and userspace libraries installed,\nthen use the following commands to configure and build the plugin.\n\nAfter building bro from the sources, change to the \"aux/plugins/myricom\" directory and run::\n\n        ./configure --with-myricom=<path to sniffer sources> --bro-dist=<path to bro sources>\n        make && sudo make install\n\nNote: In most cases, if you are building this plugin from the Bro source tree, you won't\nneed any configure arguments.\n\nIf everything built and installed correctly, you should see this::\n\n    # bro -N Bro::Myricom\n    Bro::Myricom - Packet acquisition via Myricom SNF v3+v4 (dynamic, version 1.0)\n\nYou may run Bro as unprivileged user.\n\nUsage\n-----\n\nOnce installed, you can use Myricom interfaces/ports by prefixing them\nwith ``myricom::`` on the command line. For example, to use Myricom SNF to\nmonitor interface ``p2p1``::\n\n    bro -i myricom::p2p1\n\nTo use it in production with multiple Bro processes, use a\nconfiguration similar to this in node.cfg::\n\n    [worker-1]\n    type=worker\n    host=localhost\n    lb_method=custom\n    lb_procs=<number of processes, like 16>\n    interface=myricom::<interface name, like p2p1>\n\nIf you would like to sniff all Myricom interfaces on a system and merge them \ntogether, there is a special interface name available of ``myricom::*``. It uses \na special feature of the Myricom SNF library for port aggregation.\n\nTo run a cluster sniffing all Myricom interfaces on a system, you can use the\nsame configuration as above, but with the special interface name that aggregates \nall Myricom ports like this::\n\n    [worker-1]\n    type=worker\n    host=localhost\n    lb_method=custom\n    lb_procs=<number of processes, like 16>\n    interface=myricom::*\n\nTuning\n******\n\nYou may wish to tune the amount of memory used for the global packet buffer. This\nsetting is available in the Bro script interface to the plugin, but it's also \navailable as a global option in ``broctl.cfg`` or as a per-node option in \n``node.cfg``.  The following line in either config file will set the SNF packet\nbuffer ring size to 16GB (the default is 1GB)::\n\n     myricom.snf_ring_size=16384\n\nEnjoy!\n"}